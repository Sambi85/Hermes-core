{"ast":null,"code":"import consumer from \"./consumer\";\nvar conversationId = document.getElementById(\"chat\").getAttribute(\"data-conversation-id\");\nconsumer.subscriptions.create({\n  channel: \"ChatChannel\",\n  conversation_id: conversationId\n}, {\n  connected: function connected() {\n    console.log(\"Connected to chat!\");\n  },\n  disconnected: function disconnected() {\n    console.log(\"Disconnected from chat.\");\n  },\n  received: function received(data) {\n    // Add the message to your chat window\n    var messagesDiv = document.getElementById(\"messages\");\n    var messageDiv = document.createElement(\"div\");\n    messageDiv.innerHTML = \"<strong>\".concat(data.user, \":</strong> \").concat(data.message);\n    messagesDiv.appendChild(messageDiv);\n  },\n  sendMessage: function sendMessage(message) {\n    this.perform(\"send_message\", {\n      message: message\n    });\n  }\n});\n\n// To send a message from the front-end when the user clicks the \"Send\" button\ndocument.getElementById(\"send_button\").addEventListener(\"click\", function () {\n  var messageInput = document.getElementById(\"message_input\");\n  var message = messageInput.value;\n  if (message) {\n    // Send the message to the server\n    this.sendMessage(message);\n    messageInput.value = ''; // Clear input after sending\n  }\n});","map":{"version":3,"names":["consumer","conversationId","document","getElementById","getAttribute","subscriptions","create","channel","conversation_id","connected","console","log","disconnected","received","data","messagesDiv","messageDiv","createElement","innerHTML","concat","user","message","appendChild","sendMessage","perform","addEventListener","messageInput","value"],"sources":["/home/sambi85/Projects/hermes/app/javascript/channels/chat_channel.js"],"sourcesContent":["import consumer from \"./consumer\";\n\nconst conversationId = document.getElementById(\"chat\").getAttribute(\"data-conversation-id\");\n\nconsumer.subscriptions.create(\n  { channel: \"ChatChannel\", conversation_id: conversationId },\n  {\n    connected() {\n      console.log(\"Connected to chat!\");\n    },\n\n    disconnected() {\n      console.log(\"Disconnected from chat.\");\n    },\n\n    received(data) {\n      // Add the message to your chat window\n      const messagesDiv = document.getElementById(\"messages\");\n      const messageDiv = document.createElement(\"div\");\n      messageDiv.innerHTML = `<strong>${data.user}:</strong> ${data.message}`;\n      messagesDiv.appendChild(messageDiv);\n    },\n\n    sendMessage(message) {\n      this.perform(\"send_message\", { message: message });\n    }\n  }\n);\n\n// To send a message from the front-end when the user clicks the \"Send\" button\ndocument.getElementById(\"send_button\").addEventListener(\"click\", function() {\n  const messageInput = document.getElementById(\"message_input\");\n  const message = messageInput.value;\n  if (message) {\n    // Send the message to the server\n    this.sendMessage(message);\n    messageInput.value = ''; // Clear input after sending\n  }\n});"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,YAAY;AAEjC,IAAMC,cAAc,GAAGC,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC,CAACC,YAAY,CAAC,sBAAsB,CAAC;AAE3FJ,QAAQ,CAACK,aAAa,CAACC,MAAM,CAC3B;EAAEC,OAAO,EAAE,aAAa;EAAEC,eAAe,EAAEP;AAAe,CAAC,EAC3D;EACEQ,SAAS,WAATA,SAASA,CAAA,EAAG;IACVC,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;EACnC,CAAC;EAEDC,YAAY,WAAZA,YAAYA,CAAA,EAAG;IACbF,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC;EACxC,CAAC;EAEDE,QAAQ,WAARA,QAAQA,CAACC,IAAI,EAAE;IACb;IACA,IAAMC,WAAW,GAAGb,QAAQ,CAACC,cAAc,CAAC,UAAU,CAAC;IACvD,IAAMa,UAAU,GAAGd,QAAQ,CAACe,aAAa,CAAC,KAAK,CAAC;IAChDD,UAAU,CAACE,SAAS,cAAAC,MAAA,CAAcL,IAAI,CAACM,IAAI,iBAAAD,MAAA,CAAcL,IAAI,CAACO,OAAO,CAAE;IACvEN,WAAW,CAACO,WAAW,CAACN,UAAU,CAAC;EACrC,CAAC;EAEDO,WAAW,WAAXA,WAAWA,CAACF,OAAO,EAAE;IACnB,IAAI,CAACG,OAAO,CAAC,cAAc,EAAE;MAAEH,OAAO,EAAEA;IAAQ,CAAC,CAAC;EACpD;AACF,CACF,CAAC;;AAED;AACAnB,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC,CAACsB,gBAAgB,CAAC,OAAO,EAAE,YAAW;EAC1E,IAAMC,YAAY,GAAGxB,QAAQ,CAACC,cAAc,CAAC,eAAe,CAAC;EAC7D,IAAMkB,OAAO,GAAGK,YAAY,CAACC,KAAK;EAClC,IAAIN,OAAO,EAAE;IACX;IACA,IAAI,CAACE,WAAW,CAACF,OAAO,CAAC;IACzBK,YAAY,CAACC,KAAK,GAAG,EAAE,CAAC,CAAC;EAC3B;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}